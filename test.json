{"id":"fc2e7203-c91c-4cfb-be2f-2bbe23a9ce14","revision":0,"last_node_id":24,"last_link_id":24,"nodes":[{"id":7,"type":"ImageResizeKJv2","pos":[-4165.07958984375,-1505.6917724609375],"size":[270,336],"flags":{},"order":6,"mode":0,"inputs":[{"localized_name":"image","name":"image","type":"IMAGE","link":15},{"localized_name":"mask","name":"mask","shape":7,"type":"MASK","link":null},{"localized_name":"width","name":"width","type":"INT","widget":{"name":"width"},"link":null},{"localized_name":"height","name":"height","type":"INT","widget":{"name":"height"},"link":null},{"localized_name":"upscale_method","name":"upscale_method","type":"COMBO","widget":{"name":"upscale_method"},"link":null},{"localized_name":"keep_proportion","name":"keep_proportion","type":"COMBO","widget":{"name":"keep_proportion"},"link":null},{"localized_name":"pad_color","name":"pad_color","type":"STRING","widget":{"name":"pad_color"},"link":null},{"localized_name":"crop_position","name":"crop_position","type":"COMBO","widget":{"name":"crop_position"},"link":null},{"localized_name":"divisible_by","name":"divisible_by","type":"INT","widget":{"name":"divisible_by"},"link":null},{"localized_name":"device","name":"device","shape":7,"type":"COMBO","widget":{"name":"device"},"link":null}],"outputs":[{"localized_name":"IMAGE","name":"IMAGE","type":"IMAGE","links":[11]},{"localized_name":"width","name":"width","type":"INT","links":null},{"localized_name":"height","name":"height","type":"INT","links":null},{"localized_name":"mask","name":"mask","type":"MASK","links":null}],"properties":{"cnr_id":"comfyui-kjnodes","ver":"3fcd22f2fe2be69c3229f192362b91888277cbcb","Node name for S&R":"ImageResizeKJv2"},"widgets_values":[512,512,"nearest-exact","stretch","0, 0, 0","center",2,"cpu"]},{"id":6,"type":"ImageResizeKJv2","pos":[-4144.2158203125,-1947.29931640625],"size":[270,336],"flags":{},"order":4,"mode":0,"inputs":[{"localized_name":"image","name":"image","type":"IMAGE","link":6},{"localized_name":"mask","name":"mask","shape":7,"type":"MASK","link":null},{"localized_name":"width","name":"width","type":"INT","widget":{"name":"width"},"link":null},{"localized_name":"height","name":"height","type":"INT","widget":{"name":"height"},"link":null},{"localized_name":"upscale_method","name":"upscale_method","type":"COMBO","widget":{"name":"upscale_method"},"link":null},{"localized_name":"keep_proportion","name":"keep_proportion","type":"COMBO","widget":{"name":"keep_proportion"},"link":null},{"localized_name":"pad_color","name":"pad_color","type":"STRING","widget":{"name":"pad_color"},"link":null},{"localized_name":"crop_position","name":"crop_position","type":"COMBO","widget":{"name":"crop_position"},"link":null},{"localized_name":"divisible_by","name":"divisible_by","type":"INT","widget":{"name":"divisible_by"},"link":null},{"localized_name":"device","name":"device","shape":7,"type":"COMBO","widget":{"name":"device"},"link":null}],"outputs":[{"localized_name":"IMAGE","name":"IMAGE","type":"IMAGE","links":[7]},{"localized_name":"width","name":"width","type":"INT","links":null},{"localized_name":"height","name":"height","type":"INT","links":null},{"localized_name":"mask","name":"mask","type":"MASK","links":null}],"properties":{"cnr_id":"comfyui-kjnodes","ver":"3fcd22f2fe2be69c3229f192362b91888277cbcb","Node name for S&R":"ImageResizeKJv2"},"widgets_values":[512,512,"nearest-exact","stretch","0, 0, 0","center",2,"cpu"]},{"id":4,"type":"LayerUtility: ImageBlend","pos":[-3258.908203125,-1737.321044921875],"size":[270,146],"flags":{},"order":14,"mode":0,"inputs":[{"localized_name":"background_image","name":"background_image","type":"IMAGE","link":7},{"localized_name":"layer_image","name":"layer_image","type":"IMAGE","link":14},{"localized_name":"layer_mask","name":"layer_mask","shape":7,"type":"MASK","link":null},{"localized_name":"invert_mask","name":"invert_mask","type":"BOOLEAN","widget":{"name":"invert_mask"},"link":null},{"localized_name":"blend_mode","name":"blend_mode","type":"COMBO","widget":{"name":"blend_mode"},"link":null},{"localized_name":"opacity","name":"opacity","type":"INT","widget":{"name":"opacity"},"link":null}],"outputs":[{"localized_name":"image","name":"image","type":"IMAGE","links":[16]}],"properties":{"cnr_id":"comfyui_layerstyle","ver":"89014d833d2ad0998d724090eff1456692692a1d","Node name for S&R":"LayerUtility: ImageBlend"},"widgets_values":[false,"normal",100],"color":"rgba(38, 73, 116, 0.7)"},{"id":12,"type":"VHS_VideoCombine","pos":[-2612.239013671875,-1741.8267822265625],"size":[220.5830078125,452.5830078125],"flags":{},"order":16,"mode":0,"inputs":[{"localized_name":"images","name":"images","type":"IMAGE","link":16},{"localized_name":"audio","name":"audio","shape":7,"type":"AUDIO","link":null},{"localized_name":"meta_batch","name":"meta_batch","shape":7,"type":"VHS_BatchManager","link":null},{"localized_name":"vae","name":"vae","shape":7,"type":"VAE","link":null},{"localized_name":"frame_rate","name":"frame_rate","type":"FLOAT","widget":{"name":"frame_rate"},"link":null},{"localized_name":"loop_count","name":"loop_count","type":"INT","widget":{"name":"loop_count"},"link":null},{"localized_name":"filename_prefix","name":"filename_prefix","type":"STRING","widget":{"name":"filename_prefix"},"link":null},{"localized_name":"format","name":"format","type":"COMBO","widget":{"name":"format"},"link":null},{"localized_name":"pingpong","name":"pingpong","type":"BOOLEAN","widget":{"name":"pingpong"},"link":null},{"localized_name":"save_output","name":"save_output","type":"BOOLEAN","widget":{"name":"save_output"},"link":null}],"outputs":[{"localized_name":"Filenames","name":"Filenames","type":"VHS_FILENAMES","links":null}],"properties":{"cnr_id":"comfyui-videohelpersuite","ver":"1.7.7","Node name for S&R":"VHS_VideoCombine"},"widgets_values":{"frame_rate":30,"loop_count":0,"filename_prefix":"AnimateDiff","format":"image/gif","pingpong":false,"save_output":true,"videopreview":{"hidden":false,"paused":false,"params":{"filename":"AnimateDiff_00017.gif","subfolder":"","type":"output","format":"image/gif","frame_rate":30,"workflow":"AnimateDiff_00017.png","fullpath":"D:\\output\\AnimateDiff_00017.gif"}}}},{"id":9,"type":"LayerMask: MaskPreview","pos":[-3275.6943359375,-1438.193115234375],"size":[199.38925170898438,246],"flags":{},"order":15,"mode":0,"inputs":[{"localized_name":"mask","name":"mask","type":"MASK","link":12}],"outputs":[],"properties":{"cnr_id":"comfyui_layerstyle","ver":"89014d833d2ad0998d724090eff1456692692a1d","Node name for S&R":"LayerMask: MaskPreview"},"widgets_values":[],"color":"rgba(27, 80, 119, 0.7)"},{"id":1,"type":"LoadImage","pos":[-4539.8173828125,-1924.02490234375],"size":[274.080078125,314],"flags":{},"order":0,"mode":0,"inputs":[{"localized_name":"image","name":"image","type":"COMBO","widget":{"name":"image"},"link":null},{"localized_name":"choose file to upload","name":"upload","type":"IMAGEUPLOAD","widget":{"name":"upload"},"link":null}],"outputs":[{"localized_name":"IMAGE","name":"IMAGE","type":"IMAGE","links":[6]},{"localized_name":"MASK","name":"MASK","type":"MASK","links":null}],"properties":{"cnr_id":"comfy-core","ver":"0.3.64","Node name for S&R":"LoadImage"},"widgets_values":["sea.jpg","image"]},{"id":14,"type":"LayerMask: MaskPreview","pos":[-4334.2587890625,-2120.1787109375],"size":[199.38925170898438,246],"flags":{},"order":10,"mode":0,"inputs":[{"localized_name":"mask","name":"mask","type":"MASK","link":21}],"outputs":[],"properties":{"cnr_id":"comfyui_layerstyle","ver":"89014d833d2ad0998d724090eff1456692692a1d","Node name for S&R":"LayerMask: MaskPreview"},"widgets_values":[],"color":"rgba(27, 80, 119, 0.7)"},{"id":10,"type":"PreviewImage","pos":[-3337.51708984375,-1550.39794921875],"size":[660.7085571289062,420.9150390625],"flags":{},"order":13,"mode":0,"inputs":[{"localized_name":"images","name":"images","type":"IMAGE","link":13}],"outputs":[],"properties":{"cnr_id":"comfy-core","ver":"0.3.64","Node name for S&R":"PreviewImage"},"widgets_values":[]},{"id":8,"type":"LayerMask: SegmentAnythingUltra V2","pos":[-3774.4482421875,-1535.25537109375],"size":[401.0435485839844,366],"flags":{},"order":11,"mode":0,"inputs":[{"localized_name":"image","name":"image","type":"IMAGE","link":11},{"localized_name":"sam_model","name":"sam_model","type":"COMBO","widget":{"name":"sam_model"},"link":null},{"localized_name":"grounding_dino_model","name":"grounding_dino_model","type":"COMBO","widget":{"name":"grounding_dino_model"},"link":null},{"localized_name":"threshold","name":"threshold","type":"FLOAT","widget":{"name":"threshold"},"link":null},{"localized_name":"detail_method","name":"detail_method","type":"COMBO","widget":{"name":"detail_method"},"link":null},{"localized_name":"detail_erode","name":"detail_erode","type":"INT","widget":{"name":"detail_erode"},"link":null},{"localized_name":"detail_dilate","name":"detail_dilate","type":"INT","widget":{"name":"detail_dilate"},"link":null},{"localized_name":"black_point","name":"black_point","type":"FLOAT","widget":{"name":"black_point"},"link":null},{"localized_name":"white_point","name":"white_point","type":"FLOAT","widget":{"name":"white_point"},"link":null},{"localized_name":"process_detail","name":"process_detail","type":"BOOLEAN","widget":{"name":"process_detail"},"link":null},{"localized_name":"prompt","name":"prompt","type":"STRING","widget":{"name":"prompt"},"link":null},{"localized_name":"device","name":"device","type":"COMBO","widget":{"name":"device"},"link":null},{"localized_name":"max_megapixels","name":"max_megapixels","type":"FLOAT","widget":{"name":"max_megapixels"},"link":null},{"localized_name":"cache_model","name":"cache_model","type":"BOOLEAN","widget":{"name":"cache_model"},"link":null}],"outputs":[{"localized_name":"image","name":"image","type":"IMAGE","links":[13,14]},{"localized_name":"mask","name":"mask","type":"MASK","links":[12]}],"properties":{"cnr_id":"ComfyUI_LayerStyle_Advance","ver":"64c8317ab33f0208f2e583070acf4f8ef6faca0a","Node name for S&R":"LayerMask: SegmentAnythingUltra V2"},"widgets_values":["sam_vit_h (2.56GB)","GroundingDINO_SwinB (938MB)",0.3,"VITMatte",90,10,0.01,0.88,true,"subject","cuda",2,false],"color":"rgba(27, 80, 119, 0.7)"},{"id":13,"type":"LayerMask: YoloV8Detect","pos":[-5006.15576171875,-2073.57421875],"size":[328.1656188964844,122],"flags":{},"order":5,"mode":0,"inputs":[{"localized_name":"image","name":"image","type":"IMAGE","link":17},{"localized_name":"yolo_model","name":"yolo_model","type":"COMBO","widget":{"name":"yolo_model"},"link":null},{"localized_name":"mask_merge","name":"mask_merge","type":"COMBO","widget":{"name":"mask_merge"},"link":null}],"outputs":[{"localized_name":"mask","name":"mask","type":"MASK","links":[]},{"localized_name":"yolo_plot_image","name":"yolo_plot_image","type":"IMAGE","links":[19,20]},{"localized_name":"yolo_masks","name":"yolo_masks","type":"MASK","links":[21]}],"properties":{"cnr_id":"ComfyUI_LayerStyle_Advance","ver":"64c8317ab33f0208f2e583070acf4f8ef6faca0a","Node name for S&R":"LayerMask: YoloV8Detect"},"widgets_values":["model.pt","all"],"color":"rgba(27, 80, 119, 0.7)"},{"id":16,"type":"PreviewImage","pos":[-5169.048828125,-2451.80908203125],"size":[140,246],"flags":{},"order":9,"mode":0,"inputs":[{"localized_name":"images","name":"images","type":"IMAGE","link":20}],"outputs":[],"properties":{"cnr_id":"comfy-core","ver":"0.3.64","Node name for S&R":"PreviewImage"},"widgets_values":[]},{"id":2,"type":"LoadImage","pos":[-5441.12939453125,-2062.031005859375],"size":[274.080078125,314],"flags":{},"order":1,"mode":0,"inputs":[{"localized_name":"image","name":"image","type":"COMBO","widget":{"name":"image"},"link":null},{"localized_name":"choose file to upload","name":"upload","type":"IMAGEUPLOAD","widget":{"name":"upload"},"link":null}],"outputs":[{"localized_name":"IMAGE","name":"IMAGE","type":"IMAGE","links":[17,22]},{"localized_name":"MASK","name":"MASK","type":"MASK","links":null}],"properties":{"cnr_id":"comfy-core","ver":"0.3.64","Node name for S&R":"LoadImage"},"widgets_values":["ComfyUI_00075_.png","image"]},{"id":18,"type":"LayerMask: SegformerUltraV2","pos":[-4990.5634765625,-1826.7176513671875],"size":[295.9683532714844,246],"flags":{},"order":7,"mode":0,"inputs":[{"localized_name":"image","name":"image","type":"IMAGE","link":22},{"localized_name":"segformer_pipeline","name":"segformer_pipeline","type":"SegPipeline","link":24},{"localized_name":"detail_method","name":"detail_method","type":"COMBO","widget":{"name":"detail_method"},"link":null},{"localized_name":"detail_erode","name":"detail_erode","type":"INT","widget":{"name":"detail_erode"},"link":null},{"localized_name":"detail_dilate","name":"detail_dilate","type":"INT","widget":{"name":"detail_dilate"},"link":null},{"localized_name":"black_point","name":"black_point","type":"FLOAT","widget":{"name":"black_point"},"link":null},{"localized_name":"white_point","name":"white_point","type":"FLOAT","widget":{"name":"white_point"},"link":null},{"localized_name":"process_detail","name":"process_detail","type":"BOOLEAN","widget":{"name":"process_detail"},"link":null},{"localized_name":"device","name":"device","type":"COMBO","widget":{"name":"device"},"link":null},{"localized_name":"max_megapixels","name":"max_megapixels","type":"FLOAT","widget":{"name":"max_megapixels"},"link":null}],"outputs":[{"localized_name":"image","name":"image","type":"IMAGE","links":[23]},{"localized_name":"mask","name":"mask","type":"MASK","links":null}],"properties":{"cnr_id":"comfyui_layerstyle","ver":"89014d833d2ad0998d724090eff1456692692a1d","Node name for S&R":"LayerMask: SegformerUltraV2"},"widgets_values":["VITMatte",8,6,0.01,0.99,true,"cuda",2],"color":"rgba(27, 80, 119, 0.7)"},{"id":15,"type":"PreviewImage","pos":[-5881.291015625,-1615.84375],"size":[436.2858581542969,316.1678771972656],"flags":{},"order":8,"mode":0,"inputs":[{"localized_name":"images","name":"images","type":"IMAGE","link":19}],"outputs":[],"properties":{"cnr_id":"comfy-core","ver":"0.3.64","Node name for S&R":"PreviewImage"},"widgets_values":[]},{"id":11,"type":"VHS_LoadVideo","pos":[-4536.99169921875,-1279.244140625],"size":[253.279296875,455.15704345703125],"flags":{},"order":2,"mode":0,"inputs":[{"localized_name":"meta_batch","name":"meta_batch","shape":7,"type":"VHS_BatchManager","link":null},{"localized_name":"vae","name":"vae","shape":7,"type":"VAE","link":null},{"localized_name":"video","name":"video","type":"COMBO","widget":{"name":"video"},"link":null},{"localized_name":"force_rate","name":"force_rate","type":"FLOAT","widget":{"name":"force_rate"},"link":null},{"localized_name":"custom_width","name":"custom_width","type":"INT","widget":{"name":"custom_width"},"link":null},{"localized_name":"custom_height","name":"custom_height","type":"INT","widget":{"name":"custom_height"},"link":null},{"localized_name":"frame_load_cap","name":"frame_load_cap","type":"INT","widget":{"name":"frame_load_cap"},"link":null},{"localized_name":"skip_first_frames","name":"skip_first_frames","type":"INT","widget":{"name":"skip_first_frames"},"link":null},{"localized_name":"select_every_nth","name":"select_every_nth","type":"INT","widget":{"name":"select_every_nth"},"link":null},{"localized_name":"format","name":"format","shape":7,"type":"COMBO","widget":{"name":"format"},"link":null}],"outputs":[{"localized_name":"IMAGE","name":"IMAGE","type":"IMAGE","links":[15]},{"localized_name":"frame_count","name":"frame_count","type":"INT","links":null},{"localized_name":"audio","name":"audio","type":"AUDIO","links":null},{"localized_name":"video_info","name":"video_info","type":"VHS_VIDEOINFO","links":null}],"properties":{"cnr_id":"comfyui-videohelpersuite","ver":"1.7.7","Node name for S&R":"VHS_LoadVideo"},"widgets_values":{"video":"陈坤1.mp4","force_rate":0,"custom_width":0,"custom_height":0,"frame_load_cap":0,"skip_first_frames":0,"select_every_nth":1,"format":"AnimateDiff","choose video to upload":"image","videopreview":{"hidden":false,"paused":false,"params":{"filename":"陈坤1.mp4","type":"input","format":"video/mp4","force_rate":0,"custom_width":0,"custom_height":0,"frame_load_cap":0,"skip_first_frames":0,"select_every_nth":1}}}},{"id":19,"type":"PreviewImage","pos":[-4633.34521484375,-1552.238037109375],"size":[140,246],"flags":{"collapsed":false},"order":12,"mode":0,"inputs":[{"localized_name":"images","name":"images","type":"IMAGE","link":23}],"outputs":[],"properties":{"cnr_id":"comfy-core","ver":"0.3.64","Node name for S&R":"PreviewImage"},"widgets_values":[]},{"id":21,"type":"LayerMask: SegformerClothesPipelineLoader","pos":[-5393.08642578125,-1675.6875],"size":[346.5679626464844,466],"flags":{},"order":3,"mode":0,"inputs":[{"localized_name":"model","name":"model","type":"COMBO","widget":{"name":"model"},"link":null},{"localized_name":"face","name":"face","type":"BOOLEAN","widget":{"name":"face"},"link":null},{"localized_name":"hair","name":"hair","type":"BOOLEAN","widget":{"name":"hair"},"link":null},{"localized_name":"hat","name":"hat","type":"BOOLEAN","widget":{"name":"hat"},"link":null},{"localized_name":"sunglass","name":"sunglass","type":"BOOLEAN","widget":{"name":"sunglass"},"link":null},{"localized_name":"left_arm","name":"left_arm","type":"BOOLEAN","widget":{"name":"left_arm"},"link":null},{"localized_name":"right_arm","name":"right_arm","type":"BOOLEAN","widget":{"name":"right_arm"},"link":null},{"localized_name":"left_leg","name":"left_leg","type":"BOOLEAN","widget":{"name":"left_leg"},"link":null},{"localized_name":"right_leg","name":"right_leg","type":"BOOLEAN","widget":{"name":"right_leg"},"link":null},{"localized_name":"left_shoe","name":"left_shoe","type":"BOOLEAN","widget":{"name":"left_shoe"},"link":null},{"localized_name":"right_shoe","name":"right_shoe","type":"BOOLEAN","widget":{"name":"right_shoe"},"link":null},{"localized_name":"upper_clothes","name":"upper_clothes","type":"BOOLEAN","widget":{"name":"upper_clothes"},"link":null},{"localized_name":"skirt","name":"skirt","type":"BOOLEAN","widget":{"name":"skirt"},"link":null},{"localized_name":"pants","name":"pants","type":"BOOLEAN","widget":{"name":"pants"},"link":null},{"localized_name":"dress","name":"dress","type":"BOOLEAN","widget":{"name":"dress"},"link":null},{"localized_name":"belt","name":"belt","type":"BOOLEAN","widget":{"name":"belt"},"link":null},{"localized_name":"bag","name":"bag","type":"BOOLEAN","widget":{"name":"bag"},"link":null},{"localized_name":"scarf","name":"scarf","type":"BOOLEAN","widget":{"name":"scarf"},"link":null}],"outputs":[{"localized_name":"segformer_pipeline","name":"segformer_pipeline","type":"SegPipeline","links":[24]}],"properties":{"cnr_id":"comfyui_layerstyle","ver":"89014d833d2ad0998d724090eff1456692692a1d","Node name for S&R":"LayerMask: SegformerClothesPipelineLoader"},"widgets_values":["segformer_b3_clothes",true,true,false,false,true,false,false,false,false,false,false,false,false,false,false,false,false],"color":"rgba(27, 80, 119, 0.7)"}],"links":[[6,1,0,6,0,"IMAGE"],[7,6,0,4,0,"IMAGE"],[11,7,0,8,0,"IMAGE"],[12,8,1,9,0,"MASK"],[13,8,0,10,0,"IMAGE"],[14,8,0,4,1,"IMAGE"],[15,11,0,7,0,"IMAGE"],[16,4,0,12,0,"IMAGE"],[17,2,0,13,0,"IMAGE"],[19,13,1,15,0,"IMAGE"],[20,13,1,16,0,"IMAGE"],[21,13,2,14,0,"MASK"],[22,2,0,18,0,"IMAGE"],[23,18,0,19,0,"IMAGE"],[24,21,0,18,1,"SegPipeline"]],"groups":[],"config":{},"extra":{"ds":{"scale":1.6350799082655958,"offset":[5602.710877103952,1915.3374866618742]}},"version":0.4}